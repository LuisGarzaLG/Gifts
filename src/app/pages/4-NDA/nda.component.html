<nb-card class="card">
  <nb-card-header class="titulo">
    <div class="titulo-container">
      <div class="titulo">NDA</div>
    </div>
  </nb-card-header>

  <nb-card-body>
    <nb-tabset>

      <!-- Companies Tab -->
      <nb-tab tabTitle="Companies">
        <nb-card class="card-section card-purple card1">
          <nb-card-header>
            <nb-icon icon="briefcase-outline"></nb-icon>
            <strong>Companies</strong>
          </nb-card-header>

          <nb-card-body>
            <div class="top-controls">
              <button nbButton status="success" (click)="openAddCompanyDialog()">Add Company</button>
              <button nbButton size="small" class="btn-1" (click)="loadCompanies()">Reload</button>

              <label class="s-e">
                Show
                <select [(ngModel)]="entriesToShow">
                  <option *ngFor="let opt of [10,25,50]">{{ opt }}</option>
                </select>
                entries
              </label>
<!--
              <div class="search-container">
                <label class="label-inline">Search:</label>
                <input class="input-inline" type="text" [(ngModel)]="searchCompanyText" placeholder="Search..." />
              </div>
-->
            </div>

            <div class="table-container table-wrapper">
              <table class="table">
                <thead>
                  <tr>
                    <th>Company Name</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let company of companies">
                    <td>{{ company.name }}</td>
                    <td>
                      <!-- Placeholder for actions (edit/delete) -->
                      <button nbButton size="tiny" status="info" (click)="editCompany(company)">Edit</button>
                      <button nbButton size="tiny" status="danger" (click)="deleteCompany(company.id)">Delete</button>
                    </td>
                  </tr>
                  <tr *ngIf="companies.length === 0">
                    <td class="no-data" colspan="2">No data available in table</td>
                  </tr>
                </tbody>
              </table>
              <p>Showing {{ companies.length }} of {{ totalCompanies }} entries</p>
            </div>
          </nb-card-body>
        </nb-card>
      </nb-tab>

      <!-- Company People Tab -->
      <nb-tab tabTitle="Company People">
        <nb-card class="card-section card-teal card1">
          <nb-card-header>
            <nb-icon icon="people-outline"></nb-icon>
            <strong>Company People</strong>
          </nb-card-header>

          <nb-card-body>
            <div class="top-controls">
              <button nbButton status="success" (click)="openAddPersonDialog()">Add Person</button>
              <button nbButton size="small" class="btn-1" (click)="loadCompanyPeople()">Reload</button>

              <label class="s-e">
                Show
                <select [(ngModel)]="entriesToShowPeople">
                  <option *ngFor="let opt of [10,25,50]">{{ opt }}</option>
                </select>
                entries
              </label>
<!--
              <div class="search-container">
                <label class="label-inline">Search:</label>
                <input class="input-inline" type="text" [(ngModel)]="searchPeopleText" placeholder="Search..." />
              </div>
-->              
            </div>

            <div class="table-container table-wrapper">
              <table class="table">
                <thead>
                  <tr>
                    <th>Person Name</th>
                    <th>Company</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let person of people">
                    <td>{{ person.name }}</td>
                    <td>{{ person.companyName}}</td>
                    <td>
                      <button nbButton size="small" status="info" (click)="openAddPersonDialog(person)">Edit</button>
                      <button nbButton size="tiny" status="danger" (click)="deletePerson(person.id)">Delete</button>
                    </td>
                  </tr>
                  <tr *ngIf="people.length === 0">
                    <td class="no-data" colspan="3">No data available in table</td>
                  </tr>
                </tbody>
              </table>
              <p>Showing {{ people.length }} of {{ totalPeople }} entries</p>
            </div>
          </nb-card-body>
        </nb-card>
      </nb-tab>

    </nb-tabset>
  </nb-card-body>
</nb-card>


